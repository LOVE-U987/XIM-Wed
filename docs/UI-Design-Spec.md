# XIM文档页面 - UI设计规范与交互说明

## 版本信息
- **版本**: v2.0
- **更新日期**: 2025-01-29
- **设计团队**: XIM工作室

---

## 1. 设计概述

### 1.1 设计目标
- **优化操作空间**: 最大化内容展示区域，减少视觉干扰
- **提升交互体验**: 常用功能触手可及，支持个性化定制
- **现代化视觉**: 采用深色主题，符合开发者审美
- **响应式适配**: 完美适配桌面、平板、手机各种设备

### 1.2 设计理念
- **内容优先**: 文档内容始终是页面的核心
- **渐进式披露**: 复杂功能按需展示，保持界面简洁
- **一致性**: 与XIM主站保持统一的视觉风格
- **可访问性**: 支持键盘操作、屏幕阅读器等辅助技术

---

## 2. 布局架构

### 2.1 三栏式布局

```
┌─────────────────────────────────────────────────────────────┐
│ 顶部工具栏 (Header)                                          │
├──────────┬──────────────────────────────┬──────────────────┤
│          │                              │                  │
│ 侧边栏    │      主内容区                 │   右侧大纲        │
│ Sidebar  │     Main Content             │   Outline        │
│ (300px)  │                              │   (220px)        │
│          │                              │                  │
│          │                              │                  │
│          │                              │                  │
│          │                              │                  │
├──────────┴──────────────────────────────┴──────────────────┤
│ 返回顶部按钮                                                 │
└─────────────────────────────────────────────────────────────┘
```

### 2.2 布局特点

#### 左侧边栏 (Sidebar)
- **宽度**: 默认300px，可拖拽调整 (200px-400px)
- **功能**: 文档目录导航、快速跳转
- **状态**: 可折叠/展开，状态自动保存
- **响应式**: 移动端变为抽屉式侧边栏

#### 主内容区 (Main Content)
- **最大宽度**: 900px，保证阅读舒适性
- **边距**: 充足的留白，避免视觉拥挤
- **排版**: 清晰的层级结构，易于阅读

#### 右侧大纲 (Outline)
- **宽度**: 220px
- **功能**: 当前页面标题快速导航
- **响应式**: 屏幕宽度<1400px时自动隐藏

---

## 3. 组件设计

### 3.1 顶部工具栏

#### 左侧区域
- **侧边栏切换按钮**: 汉堡菜单图标，点击展开/收起侧边栏
- **Logo**: XIM图标 + "XIM文档"文字，点击返回首页

#### 中间区域
- **全局搜索框**:
  - 占位符: "搜索文档..."
  - 快捷键提示: Ctrl+K
  - 实时搜索，支持高亮结果

#### 右侧区域
- **字体大小控制**: 减小/增大按钮 + 当前比例显示
- **布局切换**: 切换紧凑/宽松布局
- **主题切换**: 深色/浅色主题切换
- **返回主页**: 返回XIM主站按钮

### 3.2 侧边栏

#### 头部
- 标题: "文档目录"
- 全部折叠/展开按钮

#### 快速导航
- 代码协议
- MOR项目
- 部门介绍
- 创建历史

#### 详细目录
- 树形结构展示所有章节
- 支持展开/折叠
- 点击平滑滚动到对应章节
- 当前章节高亮显示

#### 底部
- 文档版本信息
- 最后更新时间

### 3.3 内容组件

#### 章节标题
- 大章节: 序号 + 标题 + 分隔线
- 小章节: 标题 + 底部分隔线

#### 信息卡片
- 三种类型: 信息(info)、警告(warning)、成功(success)
- 左侧彩色边框 + 图标
- 支持标题和正文

#### 表格
- 圆角边框容器
- 表头深色背景
- 行hover效果
- 横向滚动支持

#### 代码块
- 深色背景
- 语法高亮
- 复制按钮

#### 手风琴
- 可展开/折叠的内容块
- 平滑动画过渡
- 支持多个同时展开

#### 标签页
- 水平标签按钮
- 内容面板切换
- 切换动画效果

---

## 4. 交互设计

### 4.1 导航交互

#### 目录导航
- **点击**: 平滑滚动到对应章节
- **hover**: 背景色变化
- **激活状态**: 渐变背景 + 文字变白

#### 面包屑导航
- 显示当前位置层级
- 支持点击返回上级

#### 页面底部导航
- 上一页/下一页快速跳转
- 显示页面标题预览

### 4.2 侧边栏交互

#### 拖拽调整大小
- 鼠标悬停显示拖拽手柄
- 拖拽时实时调整宽度
- 最小200px，最大400px
- 宽度自动保存到localStorage

#### 折叠/展开
- 点击切换按钮切换状态
- 移动端变为抽屉式
- 状态自动保存

### 4.3 内容交互

#### 滚动监听
- 自动高亮当前章节
- 更新面包屑导航
- 更新右侧大纲

#### 返回顶部
- 滚动超过300px显示按钮
- 点击平滑滚动到顶部
- hover时上浮效果

#### 阅读进度条
- 顶部固定位置
- 实时显示阅读进度
- 渐变色彩

### 4.4 个性化设置

#### 字体大小
- 范围: 80%-150%
- 步进: 10%
- 自动保存偏好

#### 主题切换
- 深色/浅色两种主题
- 自动保存偏好
- 支持系统主题跟随

#### 布局模式
- 默认模式: 标准间距
- 紧凑模式: 减小边距，显示更多内容

---

## 5. 响应式设计

### 5.1 断点定义

| 断点 | 宽度 | 布局变化 |
|------|------|----------|
| Desktop XL | >1400px | 三栏布局，显示右侧大纲 |
| Desktop | 1024px-1400px | 两栏布局，隐藏右侧大纲 |
| Tablet | 768px-1024px | 单栏布局，侧边栏变为抽屉 |
| Mobile | <768px | 单栏布局，简化工具栏 |
| Mobile SM | <480px | 最小化布局，隐藏部分元素 |

### 5.2 移动端适配

#### 侧边栏
- 变为抽屉式，从左侧滑入
- 点击遮罩层关闭
- ESC键关闭

#### 工具栏
- 隐藏搜索框
- 隐藏字体大小控制
- 隐藏布局切换

#### 内容区
- 减小内边距
- 卡片单列显示
- 表格横向滚动

---

## 6. 键盘快捷键

| 快捷键 | 功能 |
|--------|------|
| `Ctrl + K` | 聚焦搜索框 |
| `Esc` | 关闭侧边栏/退出搜索 |
| `/` | 快速搜索 |
| `↑` / `↓` | 在搜索结果中导航 |
| `Enter` | 确认选择 |

---

## 7. 技术实现

### 7.1 CSS架构
- **变量系统**: CSS自定义属性管理主题色
- **响应式**: 移动优先的媒体查询
- **动画**: CSS transitions + keyframes
- **性能**: will-change优化，减少重绘

### 7.2 JavaScript功能
- **模块化**: 功能模块化组织
- **状态管理**: 全局状态对象
- **本地存储**: 自动保存用户偏好
- **事件委托**: 优化事件处理性能

### 7.3 可访问性
- **ARIA标签**: 完整的无障碍属性
- **键盘导航**: 全键盘可操作
- **焦点管理**: 清晰的焦点指示器
- **屏幕阅读器**: 语义化HTML结构

---

## 8. 性能优化

### 8.1 加载优化
- 关键CSS内联
- 异步加载JavaScript
- 图片懒加载
- 字体预加载

### 8.2 运行时优化
- 滚动事件节流
- 防抖搜索输入
- 虚拟滚动(长列表)
- 缓存DOM查询

---

## 9. 浏览器兼容性

| 浏览器 | 版本 | 支持状态 |
|--------|------|----------|
| Chrome | >=90 | ✅ 完全支持 |
| Firefox | >=88 | ✅ 完全支持 |
| Safari | >=14 | ✅ 完全支持 |
| Edge | >=90 | ✅ 完全支持 |
| IE11 | - | ❌ 不支持 |

---

## 10. 文件结构

```
XIM Wed/
├── xim-docs.html          # 文档页面HTML
├── css/
│   ├── style.css          # 全局样式
│   └── docs-new.css       # 文档页面专用样式
├── js/
│   └── docs-new.js        # 文档页面交互脚本
└── docs/
    └── UI-Design-Spec.md  # 本设计规范文档
```

---

## 11. 更新日志

### v2.0 (2025-01-29)
- 全新三栏式布局设计
- 添加可拖拽调整大小的侧边栏
- 实现字体大小、主题、布局个性化设置
- 添加阅读进度条和返回顶部功能
- 优化响应式设计，支持移动端
- 添加键盘快捷键支持
- 提升可访问性

---

## 12. 设计资源

### 颜色变量
```css
--primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
--primary-color: #667eea;
--accent-color: #00d4ff;
--bg-primary: #0a0a0f;
--bg-secondary: #12121a;
--text-primary: #ffffff;
--text-secondary: rgba(255, 255, 255, 0.7);
```

### 间距系统
```css
--space-xs: 4px;
--space-sm: 8px;
--space-md: 16px;
--space-lg: 24px;
--space-xl: 32px;
--space-2xl: 48px;
```

### 圆角系统
```css
--radius-sm: 6px;
--radius-md: 10px;
--radius-lg: 16px;
--radius-xl: 24px;
```

---

**文档结束**
